{"remainingRequest":"C:\\Users\\Eliel\\OneDrive\\Área de Trabalho\\Dev\\vue2-dashboard\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Eliel\\OneDrive\\Área de Trabalho\\Dev\\vue2-dashboard\\src\\components\\ModalForm.vue?vue&type=style&index=0&id=1e2a6491&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\Eliel\\OneDrive\\Área de Trabalho\\Dev\\vue2-dashboard\\src\\components\\ModalForm.vue","mtime":1744479285718},{"path":"C:\\Users\\Eliel\\OneDrive\\Área de Trabalho\\Dev\\vue2-dashboard\\node_modules\\css-loader\\dist\\cjs.js","mtime":1744382678959},{"path":"C:\\Users\\Eliel\\OneDrive\\Área de Trabalho\\Dev\\vue2-dashboard\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1744382684328},{"path":"C:\\Users\\Eliel\\OneDrive\\Área de Trabalho\\Dev\\vue2-dashboard\\node_modules\\postcss-loader\\src\\index.js","mtime":1744382681122},{"path":"C:\\Users\\Eliel\\OneDrive\\Área de Trabalho\\Dev\\vue2-dashboard\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1744382677713},{"path":"C:\\Users\\Eliel\\OneDrive\\Área de Trabalho\\Dev\\vue2-dashboard\\node_modules\\vue-loader\\lib\\index.js","mtime":1744382682962}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLm92ZXJsYXkgew0KICAgIHBvc2l0aW9uOiBmaXhlZDsNCiAgICB0b3A6IDA7DQogICAgbGVmdDogMDsNCiAgICByaWdodDogMDsNCiAgICBib3R0b206IDA7DQogICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjMpOw0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCn0NCg0KZm9ybSB7DQogICAgYmFja2dyb3VuZDogI2ZmZjsNCiAgICBwYWRkaW5nOiAxNnB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICB3aWR0aDogMzAwcHg7DQp9DQoNCmZvcm0gZGl2IHsNCiAgICBtYXJnaW4tYm90dG9tOiA4cHg7DQp9DQoNCmlucHV0IHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBwYWRkaW5nOiA0cHg7DQp9DQoNCmJ1dHRvbiB7DQogICAgbWFyZ2luLXJpZ2h0OiA4cHg7DQogICAgcGFkZGluZzogNnB4IDEycHg7DQp9DQo="},{"version":3,"sources":["ModalForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"ModalForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"overlay\">\r\n        <form @submit.prevent=\"save\">\r\n            <div>\r\n                <label>Status:<input v-model=\"form.status\" placeholder=\"Delivered\" /></label>\r\n            </div>\r\n            <div>\r\n                <label>Product:<input v-model=\"form.product\" placeholder=\"Hat\" /></label>\r\n            </div>\r\n            <div>\r\n                <label>Customer:<input v-model=\"form.customer\" placeholder=\"Matt Dickerson\" /></label>\r\n            </div>\r\n            <div>\r\n                <label>Date:<input v-model=\"form.date\" placeholder=\"13/05/2022\" /></label>\r\n            </div>\r\n            <div>\r\n                <label>Amount:\r\n                    <input type=\"number\" v-model.number=\"form.amount\" placeholder=\"$4.95\" step=\"0.01\" min=\"0\" /></label>\r\n            </div>\r\n            <div>\r\n                <label>Mode:<input v-model=\"form.paymentMode\" placeholder=\"Transfer Bank\" /></label>\r\n            </div>\r\n            <button type=\"button\" @click=\"$emit('close')\">Cancel</button>\r\n            <button type=\"submit\">Apply</button>\r\n        </form>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    props: ['item'],\r\n    data: () => ({ form: {} }),\r\n    created() {\r\n        this.form = this.item\r\n            ? { ...this.item ,\r\n                amount: Number(\r\n                String(this.item.amount).replace(',', '').replace(/[^\\d.-]/g, '')\r\n            ),\r\n            }\r\n            : {\r\n                product: '',\r\n                customer: '',\r\n                date: '',\r\n                amount: null,\r\n                paymentMode: '',\r\n                status: '',\r\n            };\r\n    },\r\n    methods: {\r\n        save() {\r\n            // se for criação, atribui trackingId\r\n            if (!this.form.id) {\r\n                this.form.trackingId = `#${Math.floor(10000 + Math.random() * 90000)}`;\r\n            }\r\n\r\n            // ── formata amount ANTES de enviar ao JSON ──\r\n            if (this.form.amount != null && this.form.amount !== '') {\r\n                // pega o número (aceita string com vírgula ou ponto)\r\n                const raw = String(this.form.amount).replace(',', '.');\r\n                const num = parseFloat(raw);\r\n                if (!isNaN(num)) {\r\n                    // transforma em \"12,345.67\"\r\n                    this.form.amount = num.toLocaleString('en-US', {\r\n                        minimumFractionDigits: 2,\r\n                        maximumFractionDigits: 2\r\n                    });\r\n                }\r\n            }\r\n\r\n\r\n            const req = this.form.id\r\n                ? axios.put(`http://localhost:3000/products/${this.form.id}`, this.form)\r\n                : axios.post('http://localhost:3000/products', this.form);\r\n\r\n            req.then(() => {\r\n                this.$emit('saved');\r\n                this.$emit('close');\r\n            });\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style scoped>\r\n.overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.3);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\nform {\r\n    background: #fff;\r\n    padding: 16px;\r\n    border-radius: 4px;\r\n    width: 300px;\r\n}\r\n\r\nform div {\r\n    margin-bottom: 8px;\r\n}\r\n\r\ninput {\r\n    width: 100%;\r\n    padding: 4px;\r\n}\r\n\r\nbutton {\r\n    margin-right: 8px;\r\n    padding: 6px 12px;\r\n}\r\n</style>\r\n"]}]}